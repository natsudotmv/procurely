services:
  analytics-api:
    build: 
      context: ./services/analytics-service/src
      dockerfile: Dockerfile
    ports:
        - "5001:8080"
    environment:
      - DOTNETCORE_ENVIRONMENT=Development

  analytics-db:
    image: postgres:latest
    environment:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
      POSTGRES_DB: analyticsdb
    ports:
      - "5432:5432"
    volumes:
      - analytics-data:/var/lib/postgresql/data

  auth-api:
    build: 
      context: ./services/auth-service/src
      dockerfile: Dockerfile
    ports:
        - "5002:8080"
    environment:
      - DOTNETCORE_ENVIRONMENT=Development

  auth-db:
    image: postgres:latest
    environment:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
      POSTGRES_DB: authdb
    ports:
      - "5432:5432"
    volumes:
      - auth-data:/var/lib/postgresql/data

  company-api:
    build: 
      context: ./services/company-service/src
      dockerfile: Dockerfile
    ports:
        - "5003:8080"
    environment:
      - DOTNETCORE_ENVIRONMENT=Development

  company-db:
    image: postgres:latest
    environment:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
      POSTGRES_DB: comanydb
    ports:
      - "5432:5432"
    volumes:
      - company-data:/var/lib/postgresql/data

  notification-api:
    build: 
      context: ./services/notification-service/src
      dockerfile: Dockerfile
    ports:
        - "5004:8080"
    environment:
      - DOTNETCORE_ENVIRONMENT=Development

  notification-db:
    image: postgres:latest
    environment:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
      POSTGRES_DB: notificationsdb
    ports:
      - "5432:5432"
    volumes:
      - notification-data:/var/lib/postgresql/data

  order-api:
    build: 
      context: ./services/order-service/src
      dockerfile: Dockerfile
    ports:
        - "5005:8080"
    environment:
      - DOTNETCORE_ENVIRONMENT=Development

  order-db:
    image: postgres:latest
    environment:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
      POSTGRES_DB: orderdb
    ports:
      - "5432:5432"
    volumes:
      - order-data:/var/lib/postgresql/data

  pricing-api:
    build: 
      context: ./services/pricing-engine-service/src
      dockerfile: Dockerfile
    ports:
        - "5006:8080"
    environment:
      - DOTNETCORE_ENVIRONMENT=Development

  pricing-db:
    image: postgres:latest
    environment:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
      POSTGRES_DB: pricingdb
    ports:
      - "5432:5432"
    volumes:
      - pricing-data:/var/lib/postgresql/data

  quote-api:
    build: 
      context: ./services/quote-service/src
      dockerfile: Dockerfile
    ports:
        - "5007:8080"
    environment:
    - DOTNETCORE_ENVIRONMENT=Development

  quote-db:
    image: postgres:latest
    environment:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
      POSTGRES_DB: quotedb
    ports:
      - "5432:5432"
    volumes:
      - quote-data:/var/lib/postgresql/data

  rfq-api:
    build: 
      context: ./services/rfq-service/src
      dockerfile: Dockerfile
    ports:
        - "5008:8080"
    environment:
    - DOTNETCORE_ENVIRONMENT=Development

  rfq-db:
    image: postgres:latest
    environment:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
      POSTGRES_DB: rfqdb
    ports:
      - "5432:5432"
    volumes:
      - rfq-data:/var/lib/postgresql/data

  vendor-api:
    build: 
      context: ./services/vendor-service/src
      dockerfile: Dockerfile
    ports:
        - "5009:8080"
    environment:
    - DOTNETCORE_ENVIRONMENT=Development

  vendor-db:
    image: postgres:latest
    environment:
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
      POSTGRES_DB: vendordb
    ports:
      - "5432:5432"
    volumes:
      - vendor-data:/var/lib/postgresql/data

volumes:
  analytics-data:
  auth-data:
  company-data:
  notification-data:
  order-data:
  pricing-data:
  quote-data:
  rfq-data:
  vendor-data: